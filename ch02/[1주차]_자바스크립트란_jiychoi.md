# 02\_자바스크립트란

## 자바스크립트의 탄생

- 1995년까지만 해도 넷스케이프가 브라우저 점유율의 90%를 차지했음
- 넷스케이프가 브라우저에서 동작하는 경량 프로그래밍 언어를 도입하기로 함
  - 브렌던 아이크가 개발
- 1996년 3월, 모카 (`Mocha`) 라는 이름으로 넷스케이프 내비게이터 2에 탑재
  - 9월, 라이브스크립트 (`LiveScript`) 로 개명
  - 12월, 자바스크립트 (`JavaScript`) 로 개명
  - 모카가 제일 이쁜듯

## 자바스크립트의 표준화

- 1996년 8월, 경쟁사인 마이크로소프트에서 자바스크립트의 파생 버전인 `JScript`를 인터넷 익스플로러에 탑재
  - 서로 점유율을 높이기 위해서 경쟁적으로 추가
  - 다만 JScript와 자바스크립트는 표준화가 되어있지 않아 호환이 완벽하지 않음
  - 크로스 브라우징 이슈 ⇒ 같은 페이지라도 브라우저가 다를 경우 정상적으로 구동되지 않을 확률이 있음
- 1996년 11월, 넷스케이프는 컴퓨터 시스템의 표준을 관리하는 ECMA 인터네셔널에 자바스크립트의 표준화 요청
  - 1997년 7월, ECAM-262리난 자바스크립트 초반 (ECMAScript 1) 사양이 완성
  - 이 때 자바스크립트와의 상표권 문제 때문에 ECMAScript라는 이름이 붙음
  - 1999년 ⇒ ECMAScript 3 공개, 2009년 ⇒ ECMAScript 5 공개, 2015년 ⇒ ECMAScript 6 공개
- ECMAScript 표준 변천사
  1. ES1 (1997)
     - 초판
  2. ES2 (1998)
     - ISO/IEC 16262 국제 표준과 동일한 규격 적용
  3. ES3 (1999)
     - 정규표현식과 `try-catch` 추가
  4. ES4 (미출시)
     - 자바스크립트를 객체지향 언어로 바꾸려는 시도가 있었음 (클래스, 모듈 시스템, 제너레이터와 반복자, 구조분해 할당 등… )
     - 다만 ES3.1에 집중하기 위해 ES4는 버려짐
     - 서로 다른 개발 팀 간 ES3.1 - ES4 투트랙으로 개발하다가 [충돌](https://channy.creation.net/blog/454)이 있었던 듯
  5. ES5 (2009)
     - 위에서 언급된 ES3.1이 ES5라는 이름으로 HTML5와 함께 등장
     - JSON과 strict mode, 접근자 프로퍼티, 속성 제어, 배열 조작 메서드 추가 등
  6. ES6 = ECMAScript2015 (2015)
     - `let` / `const`, 클래스, 화살표 함수 (람다식), 템플릿 리터럴, 구조분해 할당, 전개 연산자, 심볼, `Promise`, `Map` / `Set`, 이터러블, `for ~ of`, 제너레이터, 프록시, 모듈 시스템
     - 추가된 기능에서 알 수 있듯 미출시된 ES4의 흔적을 많이 갖고 태어남
  7. ES7 = ECMAScript2016 (2016)
     - 지수 연산자 (`**`), 배열과 문자열 객체의 `includes` 메서드
  8. ES8 = ECMAScript2017 (2017)
     - `async` / `await`, 객체 정적 메서드 (`Object.values`, `Object.entries`, `Object.getOwnPropertyDescriptors` 등)
  9. ES9 = ECMAScript2018 (2018)
     - 객체의 rest, spread 프로퍼티, `Promise`의 `finally`, async generator, `for await ~ of`
  10. ES10 = ECMAScript2019 (2019)
      - `Object.fromEntries`, 배열의 `flat`과 `flatMap` 메서드, Optional catch binding
  11. ES11 = ECMAScript2020 (2020)
      - 문자열의 `matchAll` 메서드, `BigInt`, `globalThis`, `Promise.allSettled`, 널리시 병합 연산자 (`??`), 옵셔널 체이닝 (`?.`), `for ~ in`

## 자바스크립트 성장의 역사

### 초창기

- 처음에는 웹 페이지의 보조적인 기능을 수행하기 위한 용도로만 사용됨
- 대부분의 로직은 웹 서버에서 전부 수행해 주었기 때문
- 브라우저는 HTML과 CSS 렌더링 정도만
  - 렌더링 = HTML, CSS, JS를 해석하여 브라우저에 시각적으로 출력하는 과정

### Ajax

- Ajax의 등장으로, 서버와 브라우저가 비동기로 데이터를 교환할 수 있게 됨
- 이전에는 화면 전환 또는 새로운 데이터를 받기 위해선 페이지를 통째로 서버에서 다시 내려받아야 했기 때문에 불필요한 데이터 통신이 발생하고, 매번 재렌더링으로 인한 리소스를 많이 소모하였다
  - 화면 전환 시마다 렌더링 딜레이 때문에 화면이 깜빡거리는 것은 덤
- Ajax 덕분에 서버에서는 페이지 전체를 전송하는 것이 아닌, 필요한 데이터만 보내주고 클라이언트에서 이 데이터를 해석하여 필요한 부분만 변경하는 것이 가능해졌다

### JQuery

- 이전까지는 DOM 조작이 매우 번거로웠음 (document.querySelector.어쩌구…)
- 또한 브라우저간 렌더링 방식이 조금씩 달랐기 때문에 각각의 브라우저에 전부 호환되게 코드를 많이 작성하거나, ‘이 페이지는 ~~ 브라우저에 최적화되어 있습니다’ 라고 문구를 띄우는 등 별도의 조치가 필요했음
- JQuery는 간결한 문법을 제공하였고, 크로스 브라우징 이슈를 자체적으로 해결해주었기 때문에 순식간에 많은 사용자층을 확보하게 되었다

### V8 자바스크립트 엔진

- 브라우저에서 자바스크립트를 더욱 빠르게 동작시키기 위해 (구글에서) 개발된 엔진
- V8은 상당히 빠른 속도와 괜찮은 성능을 보여주며 사용자 경험을 개선함으로써 자바스크립트를 웹 어플리케이션 언어로 정착할 수 있도록 하는 데에 혁혁한 공을 세웠다
- 이 시점부터 웹 서버에서 수행되던 복잡한 로직들이 클라이언트 코드로 옮겨지게 되었고, 프론트엔드 개발이 주목을 받기 시작

### Node.js

- 2009년 라이언 달에 의해 발표된, 위의 V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임 환경
- 기존의 자바스크립트는 브라우저에서만 동작하였으나 Node.js 덕에 브라우저 이외의 환경에서도 자바스크립트를 구동시킬 수 있게 되었다
- 대개 서버 개발에 많이 사용되며, Node.js 자체적으로 추가 모듈, 파일 시스템, HTTPS 등의 내장 API를 제공한다 (fs, crypto 등)
- 프론트엔드에서만 사용하던 자바스크립트라는 언어로 백엔드 (서버) 개발에도 착수할 수 있게 되면서, 웹 어플리케이션 전체를 개발하기 위해 여러 언어를 배울 필요 없이 자바스크립트 하나로도 모든 것이 해결되는 시대가 되었다
  - 이 때를 기점으로 자바스크립트로 모바일 개발, 데스크톱 앱 개발, 머신러닝 (??) 등 대부분의 개발을 수행할 수 있게 되면서 순식간에 인기가 부쩍 뛰었다
- 특징
  - 비동기 I/O를 지원
  - 단일 스레드이지만 이벤트 루프 기반으로 동작하여 요청 처리 성능이 좋다
  - CPU 사용량이 많은 어플리케이션에서는 권장하지 않으며, SPA (싱글 페이지 어플리케이션) 에 적합하다

### Angular, React, Vue, Svelte…

- 자바스크립트 성능 상승으로 인해 웹 어플리케이션에 다양한 시도가 들어가면서, 사용자 경험과 성능의 기준치가 급상승했다
  - 개발 난이도가 같이 올라간 건 덤이다
  - 확장 가능한 어플리케이션 구조를 만들기가 어려워졌다
- 클라이언트 개발을 손쉽게 하기 위한 라이브러리와 프레임워크들이 대거 등장하였다
  - 컴포넌트 기반 개발 방법론을 기반으로 하는 싱글 페이지 어플리케이션용 프레임워크들이 인기를 얻었다
  - 등장은 Angular ⇒ React ⇒ Vue ⇒ Svelte 순

## 자바스크립트와 ECMAScript

- ECMAScript는 언어 표준이다
  - 언어 표준이라 함은, 값, 타입, 객체와 프로퍼티, 함수, 빌트인 객체 등 핵심 문법을 규정한 것을 뜻한다
  - 브라우저를 만들 때에는 이 표준을 반드시 지켜 어떠한 페이지도 렌더링에 지장이 없게 구동하여야 한다
- 자바스크립트는 ECMAScript 표준을 포함하며, 거기에 브라우저가 별도로 지원하는 Web API가 함께 탑재되어 있다
  - DOM, BOM, Canvas, XMLHttpRequest, fetch, SVG, 웹 저장소, 워커 등

## 자바스크립트의 특징

- 웹 브라우저에서 동작하는 유일한 프로그래밍 언어다
  - HTML, CSS는 프로그래밍 언어가 아님
  - 근데 어디 가서 프로그래밍 언어라고 말하고 다니면 반응이 재미있긴 하다
- 온갖 언어에서 영향을 받았기 때문에~~짬뽕언어~~ 어디서 많이 본 듯한 문법이 많다
  - 함수 작성, 변수 선언, 배열과 객체 사용, 반복문과 조건문 등의 기본적인 문법은 C - Java 계열과 많이 닮았다
- 인터프리터 언어이다
  - 기본적으론 컴파일 작업이 필요 없다
  - 다만 대부분의 브라우저에 탑재된 자바스크립트 엔진 (V8, SpiderMonkey, JavascriptCore, Chakra 등) 은 인터프리터의 느린 속도를 보완하기 위해 인터프리터와 함께 자체적으로 컴파일링 단계를 빠르게 거쳐 코드 실행 시간을 단축한다
- 명령형, 함수형, 프로토타입 기반 객체지향 프로그래밍을 모두 지원하는 멀티 패러다임 언어이다
  - 자바스크립트는 객체지향 언어가 아니라는 오해를 많이 받지만!! 생김새가 조금 다를 뿐 (프로토타입 기반) 지원은 한다

### 인터프리터 언어

- 코드가 실행되는 단계 (런타임) 에 코드를 변환하여 문 단위로 즉시 실행한다
  - 이때 변환되는 코드 형식은 바이트코드라고 하며, 가상 머신에서 실행할 수 있는 바이너리 코드라고 한다
- 실행 파일 (컴파일된 파일) 을 생성하지 않는다
- 인터프리트 단계 = 실행 단계 (인터프리팅과 더불어 즉시 실행된다)
- 코드가 실행될 때마다 매번 인터프리팅 과정이 반복된다
  - 따라서 코드 실행 속도가 컴파일링 언어에 비해 현저히 느리다

### 컴파일러 언어

- 코드가 실행되기 전, 컴파일 타임에 모든 소스코드를 기계어로 변환한 후 해당 바이너리를 실행한다
  - 이 말인 즉슨 실행 파일을 별도로 생성한다
- 컴파일 단계와 실행 단계가 분리되어 있으며, 컴파일을 한 번 거치고 실행 파일을 실행한다
- 코드가 실행되기 전 컴파일은 단 한 번만 수행된다
  - 따라서 코드 실행 속도가 비교적 빠르다

## ES6 지원 현황

- 인터넷 익스플로러를 버리자
  - 어차피 사형 집행 도 됐으니 제발 버려!!!!!!!
  - 다만 아직도 인터넷 익스플로러를 사용하는 사람들이 남아 있기 때문에 (1% 미만이지만) 웹팩 또는 바벨을 이용하여 ES5로 트랜스파일링을 하기도 한다
